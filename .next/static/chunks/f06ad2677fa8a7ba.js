(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3053,e=>{"use strict";class t{excerpts=new Map;tags=new Map;storyboards=new Map;books=new Map;getExcerpts(){return Array.from(this.excerpts.values()).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}getExcerpt(e){return this.excerpts.get(e)}saveExcerpt(e){this.excerpts.set(e.id,e)}deleteExcerpt(e){return this.excerpts.delete(e)}getExcerptsByTag(e){return this.getExcerpts().filter(t=>t.tags.includes(e))}getTags(){return Array.from(this.tags.values()).sort((e,t)=>e.name.localeCompare(t.name))}getTag(e){return this.tags.get(e)}saveTag(e){this.tags.set(e.id,e)}deleteTag(e){return this.tags.delete(e)}getUsedTags(){let e=new Set;return this.getExcerpts().forEach(t=>{t.tags.forEach(t=>e.add(t))}),Array.from(e).sort()}getStoryboards(){return Array.from(this.storyboards.values()).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}getStoryboard(e){return this.storyboards.get(e)}saveStoryboard(e){this.storyboards.set(e.id,e)}deleteStoryboard(e){return this.storyboards.delete(e)}getBooks(){return Array.from(this.books.values()).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}getBook(e){return this.books.get(e)}saveBook(e){this.books.set(e.id,e)}deleteBook(e){return this.books.delete(e)}}let n=new t;e.s(["storage",0,n])},32189,(e,t,n)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},65156,(e,t,n)=>{"use strict";var r=e.r(32189);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},45009,(e,t,n)=>{t.exports=e.r(65156)()},64227,e=>{"use strict";var t,n,r,o=e.i(43476),i=e.i(71645),s=e.i(45009),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l={onActivate:s.func,onAddUndo:s.func,onBeforeAddUndo:s.func,onBeforeExecCommand:s.func,onBeforeGetContent:s.func,onBeforeRenderUI:s.func,onBeforeSetContent:s.func,onBeforePaste:s.func,onBlur:s.func,onChange:s.func,onClearUndos:s.func,onClick:s.func,onContextMenu:s.func,onCommentChange:s.func,onCompositionEnd:s.func,onCompositionStart:s.func,onCompositionUpdate:s.func,onCopy:s.func,onCut:s.func,onDblclick:s.func,onDeactivate:s.func,onDirty:s.func,onDrag:s.func,onDragDrop:s.func,onDragEnd:s.func,onDragGesture:s.func,onDragOver:s.func,onDrop:s.func,onExecCommand:s.func,onFocus:s.func,onFocusIn:s.func,onFocusOut:s.func,onGetContent:s.func,onHide:s.func,onInit:s.func,onInput:s.func,onKeyDown:s.func,onKeyPress:s.func,onKeyUp:s.func,onLoadContent:s.func,onMouseDown:s.func,onMouseEnter:s.func,onMouseLeave:s.func,onMouseMove:s.func,onMouseOut:s.func,onMouseOver:s.func,onMouseUp:s.func,onNodeChange:s.func,onObjectResizeStart:s.func,onObjectResized:s.func,onObjectSelected:s.func,onPaste:s.func,onPostProcess:s.func,onPostRender:s.func,onPreProcess:s.func,onProgressState:s.func,onRedo:s.func,onRemove:s.func,onReset:s.func,onSaveContent:s.func,onSelectionChange:s.func,onSetAttrib:s.func,onSetContent:s.func,onShow:s.func,onSubmit:s.func,onUndo:s.func,onVisualAid:s.func,onSkinLoadError:s.func,onThemeLoadError:s.func,onModelLoadError:s.func,onPluginLoadError:s.func,onIconsLoadError:s.func,onLanguageLoadError:s.func,onScriptsLoad:s.func,onScriptsLoadError:s.func},c=a({apiKey:s.string,licenseKey:s.string,id:s.string,inline:s.bool,init:s.object,initialValue:s.string,onEditorChange:s.func,value:s.string,tagName:s.string,tabIndex:s.number,cloudChannel:s.string,plugins:s.oneOfType([s.string,s.array]),toolbar:s.oneOfType([s.string,s.array]),disabled:s.bool,readonly:s.bool,textareaName:s.string,tinymceScriptSrc:s.oneOfType([s.string,s.arrayOf(s.string),s.arrayOf(s.shape({src:s.string,async:s.bool,defer:s.bool}))]),rollback:s.oneOfType([s.number,s.oneOf([!1])]),scriptLoading:s.shape({async:s.bool,defer:s.bool,delay:s.number})},l),u=function(e){return e&&e.tinymce?e.tinymce:null},d=function(e){return"function"==typeof e},p=function(e){return e in l},f=function(e){return e.substr(2)},h=function(e,t,n,r,o,i,s){var a=Object.keys(o).filter(p),l=Object.keys(i).filter(p),c=a.filter(function(e){return void 0===i[e]}),u=l.filter(function(e){return void 0===o[e]});c.forEach(function(e){var t=f(e),r=s[t];n(t,r),delete s[t]}),u.forEach(function(n){var o=r(e,n),i=f(n);s[i]=o,t(i,o)})},g=0,y=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++g+String(t)},m=function(e){return null!==e&&("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase())},b=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},v=function(e){if(!("isConnected"in Node.prototype)){for(var t=e,n=e.parentNode;null!=n;)n=(t=n).parentNode;return t===e.ownerDocument}return e.isConnected},x=function(e,t){void 0!==e&&(null!=e.mode&&"object"==typeof e.mode&&"function"==typeof e.mode.set?e.mode.set(t):e.setMode(t))},C=function(e){var t=u(e);if(!t)throw Error("tinymce should have been loaded into global scope");return t},E=function(e){return e.options&&e.options.isRegistered("disabled")},S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},k=function(e,t,n){var r,o,i=e.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=t.id,i.src=t.src,i.async=null!=(r=t.async)&&r,i.defer=null!=(o=t.defer)&&o;var s=function(){i.removeEventListener("load",s),i.removeEventListener("error",a),n(t.src)},a=function(e){i.removeEventListener("load",s),i.removeEventListener("error",a),n(t.src,e)};i.addEventListener("load",s),i.addEventListener("error",a),e.head&&e.head.appendChild(i)},j=function(e){var t={},n=function(e,n){var r=t[e];r.done=!0,r.error=n;for(var o=0,i=r.handlers;o<i.length;o++)(0,i[o])(e,n);r.handlers=[]};return{loadScripts:function(r,o,i){var s=function(e){return void 0!==i?i(e):console.error(e)};if(0===r.length)return void s(Error("At least one script must be provided"));for(var a=0,l=!1,c=function(e,t){l||(t?(l=!0,s(t)):++a===r.length&&o())},u=0;u<r.length;u++){var d=r[u],p=t[d.src];if(p)p.done?c(d.src,p.error):p.handlers.push(c);else{var f=y("tiny-");t[d.src]={id:f,src:d.src,done:!1,error:null,handlers:[c]},k(e,S({id:f},d),n)}}},deleteScripts:function(){for(var n,r=0,o=Object.values(t);r<o.length;r++){var i=o[r],s=e.getElementById(i.id);null!=s&&"SCRIPT"===s.tagName&&(null==(n=s.parentNode)||n.removeChild(s))}t={}},getDocument:function(){return e}}},w=(t=[],n=function(e){var n=t.find(function(t){return t.getDocument()===e});return void 0===n&&(n=j(e),t.push(n)),n},{loadList:function(e,t,r,o,i){var s=function(){return n(e).loadScripts(t,o,i)};r>0?setTimeout(s,r):s()},reinitialize:function(){for(var e=t.pop();null!=e;e=t.pop())e.deleteScripts()}}),T=(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),N=function(){return(N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I="change keyup compositionend setcontent CommentChange",O=function(e){function t(t){var n,r,o,s=e.call(this,t)||this;return s.rollbackTimer=void 0,s.valueCursor=void 0,s.rollbackChange=function(){var e=s.editor,t=s.props.value;e&&t&&t!==s.currentContent&&e.undoManager.ignore(function(){if(e.setContent(t),s.valueCursor&&(!s.inline||e.hasFocus()))try{e.selection.moveToBookmark(s.valueCursor)}catch(e){}}),s.rollbackTimer=void 0},s.handleBeforeInput=function(e){if(void 0!==s.props.value&&s.props.value===s.currentContent&&s.editor&&(!s.inline||s.editor.hasFocus()))try{s.valueCursor=s.editor.selection.getBookmark(3)}catch(e){}},s.handleBeforeInputSpecial=function(e){("Enter"===e.key||"Backspace"===e.key||"Delete"===e.key)&&s.handleBeforeInput(e)},s.handleEditorChange=function(e){var t=s.editor;if(t&&t.initialized){var n=t.getContent();void 0===s.props.value||s.props.value===n||!1===s.props.rollback||s.rollbackTimer||(s.rollbackTimer=window.setTimeout(s.rollbackChange,"number"==typeof s.props.rollback?s.props.rollback:200)),n!==s.currentContent&&(s.currentContent=n,d(s.props.onEditorChange)&&s.props.onEditorChange(n,t))}},s.handleEditorChangeSpecial=function(e){("Backspace"===e.key||"Delete"===e.key)&&s.handleEditorChange(e)},s.initialise=function(e){void 0===e&&(e=0);var t,n,r,o=s.elementRef.current;if(o){if(!v(o)){if(0===e)setTimeout(function(){return s.initialise(1)},1);else if(e<100)setTimeout(function(){return s.initialise(e+1)},100);else throw Error("tinymce can only be initialised when in a document");return}var i,a,l=C(s.view),c=N(N(N(N({},s.props.init),{selector:void 0,target:o,disabled:s.props.disabled,readonly:s.props.readonly,inline:s.inline,plugins:(i=null==(t=s.props.init)?void 0:t.plugins,a=s.props.plugins,b(i).concat(b(a))),toolbar:null!=(n=s.props.toolbar)?n:null==(r=s.props.init)?void 0:r.toolbar}),s.props.licenseKey?{license_key:s.props.licenseKey}:{}),{setup:function(e){s.editor=e,s.bindHandlers({}),s.inline&&!m(o)&&e.once("PostRender",function(t){e.setContent(s.getInitialValue(),{no_events:!0})}),s.props.init&&d(s.props.init.setup)&&s.props.init.setup(e),s.props.disabled&&(E(s.editor)?s.editor.options.set("disabled",s.props.disabled):s.editor.mode.set("readonly"))},init_instance_callback:function(e){var t,n=s.getInitialValue();s.currentContent=null!=(t=s.currentContent)?t:e.getContent(),s.currentContent!==n&&(s.currentContent=n,e.setContent(n),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1)),s.props.init&&d(s.props.init.init_instance_callback)&&s.props.init.init_instance_callback(e)}});s.inline||(o.style.visibility=""),m(o)&&(o.value=s.getInitialValue()),l.init(c)}},s.id=s.props.id||y("tiny-react"),s.elementRef=i.createRef(),s.inline=null!=(o=null!=(n=s.props.inline)?n:null==(r=s.props.init)?void 0:r.inline)&&o,s.boundHandlers={},s}return T(t,e),Object.defineProperty(t.prototype,"view",{get:function(){var e,t;return null!=(t=null==(e=this.elementRef.current)?void 0:e.ownerDocument.defaultView)?t:window},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e){var t,n,r=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(e),this.editor.initialized)){if(this.currentContent=null!=(t=this.currentContent)?t:this.editor.getContent(),"string"==typeof this.props.initialValue&&this.props.initialValue!==e.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"==typeof this.props.value&&this.props.value!==this.currentContent){var o=this.editor;o.undoManager.transact(function(){if(!r.inline||o.hasFocus())try{e=o.selection.getBookmark(3)}catch(e){}var e,t=r.valueCursor;if(o.setContent(r.props.value),!r.inline||o.hasFocus())for(var n=0,i=[e,t];n<i.length;n++){var s=i[n];if(s)try{o.selection.moveToBookmark(s),r.valueCursor=s;break}catch(e){}}})}if(this.props.readonly!==e.readonly){var i=null!=(n=this.props.readonly)&&n;x(this.editor,i?"readonly":"design")}this.props.disabled!==e.disabled&&(E(this.editor)?this.editor.options.set("disabled",this.props.disabled):x(this.editor,this.props.disabled?"readonly":"design"))}},t.prototype.componentDidMount=function(){var e,t,n,r,o,i=this;null!==u(this.view)?this.initialise():Array.isArray(this.props.tinymceScriptSrc)&&0===this.props.tinymceScriptSrc.length?null==(t=(e=this.props).onScriptsLoadError)||t.call(e,Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array.")):(null==(n=this.elementRef.current)?void 0:n.ownerDocument)&&w.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),null!=(o=null==(r=this.props.scriptLoading)?void 0:r.delay)?o:0,function(){var e,t;null==(t=(e=i.props).onScriptsLoad)||t.call(e),i.initialise()},function(e){var t,n;null==(n=(t=i.props).onScriptsLoadError)||n.call(t,e)})},t.prototype.componentWillUnmount=function(){var e=this,t=this.editor;t&&(t.off(I,this.handleEditorChange),t.off(this.beforeInputEvent(),this.handleBeforeInput),t.off("keypress",this.handleEditorChangeSpecial),t.off("keydown",this.handleBeforeInputSpecial),t.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(n){t.off(n,e.boundHandlers[n])}),this.boundHandlers={},t.remove(),this.editor=void 0)},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.beforeInputEvent=function(){return window.InputEvent&&"function"==typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"},t.prototype.renderInline=function(){var e=this.props.tagName;return i.createElement(void 0===e?"div":e,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},t.prototype.renderIframe=function(){return i.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},t.prototype.getScriptSources=function(){var e,t,n=null==(e=this.props.scriptLoading)?void 0:e.async,r=null==(t=this.props.scriptLoading)?void 0:t.defer;if(void 0!==this.props.tinymceScriptSrc)return"string"==typeof this.props.tinymceScriptSrc?[{src:this.props.tinymceScriptSrc,async:n,defer:r}]:this.props.tinymceScriptSrc.map(function(e){return"string"==typeof e?{src:e,async:n,defer:r}:e});var o=this.props.cloudChannel,i=this.props.apiKey?this.props.apiKey:"no-api-key";return[{src:"https://cdn.tiny.cloud/1/".concat(i,"/tinymce/").concat(o,"/tinymce.min.js"),async:n,defer:r}]},t.prototype.getInitialValue=function(){return"string"==typeof this.props.initialValue?this.props.initialValue:"string"==typeof this.props.value?this.props.value:""},t.prototype.bindHandlers=function(e){var t=this;if(void 0!==this.editor){n=this.editor,r=this.props,o=this.boundHandlers,h(function(e){return t.props[e]},n.on.bind(n),n.off.bind(n),function(e,t){return function(r){var o;return null==(o=e(t))?void 0:o(r,n)}},e,r,o);var n,r,o,i=function(e){return void 0!==e.onEditorChange||void 0!==e.value},s=i(e),a=i(this.props);!s&&a?(this.editor.on(I,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):s&&!a&&(this.editor.off(I,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},t.propTypes=c,t.defaultProps={cloudChannel:"8"},t}(i.Component);function B({value:e,onChange:t,placeholder:n="Start writing...",height:r=400,readonly:s=!1}){let a=(0,i.useRef)(null),[l,c]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{c(!0)},[]),l)?(0,o.jsx)("div",{className:"rich-text-editor",children:(0,o.jsx)(O,{apiKey:"no-api-key",onInit:(e,t)=>a.current=t,value:e,onEditorChange:e=>{t(e)},init:{height:r,menubar:!1,plugins:["advlist","autolink","lists","link","charmap","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","table","help","wordcount"],toolbar:!s&&"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:'body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 14px }',placeholder:n,resize:!1,branding:!1,elementpath:!1,statusbar:!0,setup:e=>{e.on("init",()=>{s&&e.mode.set("readonly")})}}})}):(0,o.jsx)("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50 animate-pulse",style:{height:r},children:(0,o.jsx)("div",{className:"text-gray-500",children:"Loading editor..."})})}e.s(["default",()=>B],64227)},34289,e=>{"use strict";let t;var n=e.i(43476),r=e.i(71645),o=e.i(18566);let i="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s=new Uint8Array(16),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));let l=function(e,n,r){if(i&&!n&&!e)return i();var o=e,l=r;let c=(o=o||{}).random??o.rng?.()??function(){if(!t){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(s)}();if(c.length<16)throw Error("Random bytes length must be >= 16");if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,n){if((l=l||0)<0||l+16>n.length)throw RangeError(`UUID byte range ${l}:${l+15} is out of buffer bounds`);for(let e=0;e<16;++e)n[l+e]=c[e];return n}return function(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}(c)};var c=e.i(64227),u=e.i(3053);function d({excerpt:e,mode:t}){let i=(0,o.useRouter)(),[s,a]=(0,r.useState)(e?.title||""),[d,p]=(0,r.useState)(e?.content||""),[f,h]=(0,r.useState)(e?.tags||[]),[g,y]=(0,r.useState)(""),[m,b]=(0,r.useState)([]),[v,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{b(u.storage.getUsedTags())},[]);let C=e=>{let t=e.replace(/<[^>]*>/g,"").trim();return t?t.split(/\s+/).length:0},E=e=>{let t=e.trim();t&&!f.includes(t)&&(h(e=>[...e,t]),y(""))},S=async t=>{if(t.preventDefault(),!s.trim()||!d.trim())return void alert("Please provide both a title and content for your excerpt.");x(!0);try{let t=new Date,n={id:e?.id||l(),title:s.trim(),content:d.trim(),tags:f,createdAt:e?.createdAt||t,updatedAt:t,wordCount:C(d)};u.storage.saveExcerpt(n),i.push("/excerpts")}catch(e){console.error("Error saving excerpt:",e),alert("There was an error saving your excerpt. Please try again.")}finally{x(!1)}};return(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"create"===t?"Create New Excerpt":"Edit Excerpt"})}),(0,n.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,n.jsx)("input",{type:"text",id:"title",value:s,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Enter excerpt title...",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),(0,n.jsx)(c.default,{value:d,onChange:p,placeholder:"Start writing your excerpt...",height:400}),(0,n.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Word count: ",C(d)]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:f.map(e=>(0,n.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[e,(0,n.jsx)("button",{type:"button",onClick:()=>{h(t=>t.filter(t=>t!==e))},className:"ml-2 text-blue-600 hover:text-blue-800",children:"Ã—"})]},e))}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"text",value:g,onChange:e=>y(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),E(g))},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a tag..."}),(0,n.jsx)("button",{type:"button",onClick:()=>E(g),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Add"})]}),m.length>0&&(0,n.jsxs)("div",{className:"mt-3",children:[(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Available tags:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1",children:m.filter(e=>!f.includes(e)).map(e=>(0,n.jsxs)("button",{type:"button",onClick:()=>E(e),className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded hover:bg-gray-200 transition-colors",children:["+ ",e]},e))})]})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[(0,n.jsx)("button",{type:"button",onClick:()=>{i.back()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:v,children:"Cancel"}),(0,n.jsx)("button",{type:"submit",disabled:v||!s.trim()||!d.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":"create"===t?"Create Excerpt":"Update Excerpt"})]})]})]})}e.s(["default",()=>d],34289)},50194,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(18566),o=e.i(3053),i=e.i(34289);function s({params:e}){let s=(0,r.useRouter)(),[a,l]=(0,n.useState)(null),[c,u]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{let t=o.storage.getExcerpt(e.id);t?(l(t),u(!1)):s.push("/excerpts")},[e.id,s]),c)?(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-8"}),(0,t.jsx)("div",{className:"h-10 bg-gray-200 rounded mb-6"}),(0,t.jsx)("div",{className:"h-96 bg-gray-200 rounded mb-6"}),(0,t.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]})}):a?(0,t.jsx)(i.default,{excerpt:a,mode:"edit"}):null}e.s(["default",()=>s])}]);