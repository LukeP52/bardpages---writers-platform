(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3053,e=>{"use strict";class t{excerpts=new Map;tags=new Map;storyboards=new Map;books=new Map;getExcerpts(){return Array.from(this.excerpts.values()).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}getExcerpt(e){return this.excerpts.get(e)}saveExcerpt(e){this.excerpts.set(e.id,e)}deleteExcerpt(e){return this.excerpts.delete(e)}getExcerptsByTag(e){return this.getExcerpts().filter(t=>t.tags.includes(e))}getTags(){return Array.from(this.tags.values()).sort((e,t)=>e.name.localeCompare(t.name))}getTag(e){return this.tags.get(e)}saveTag(e){this.tags.set(e.id,e)}deleteTag(e){return this.tags.delete(e)}getUsedTags(){let e=new Set;return this.getExcerpts().forEach(t=>{t.tags.forEach(t=>e.add(t))}),Array.from(e).sort()}getStoryboards(){return Array.from(this.storyboards.values()).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}getStoryboard(e){return this.storyboards.get(e)}saveStoryboard(e){this.storyboards.set(e.id,e)}deleteStoryboard(e){return this.storyboards.delete(e)}getBooks(){return Array.from(this.books.values()).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}getBook(e){return this.books.get(e)}saveBook(e){this.books.set(e.id,e)}deleteBook(e){return this.books.delete(e)}}let s=new t;e.s(["storage",0,s])},20525,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(22016),a=e.i(3053);function l(){let[e,l]=(0,s.useState)([]),[o,i]=(0,s.useState)([]),[d,n]=(0,s.useState)([]),[c,g]=(0,s.useState)([]),[x,u]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=a.storage.getExcerpts(),t=a.storage.getUsedTags();l(e),i(e),g(t)},[]),(0,s.useEffect)(()=>{let t=e;d.length>0&&(t=t.filter(e=>d.some(t=>e.tags.includes(t)))),x&&(t=t.filter(e=>e.title.toLowerCase().includes(x.toLowerCase())||e.content.toLowerCase().includes(x.toLowerCase()))),i(t)},[e,d,x]),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Excerpts"}),(0,t.jsx)(r.default,{href:"/excerpts/new",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"+ New Excerpt"})]}),(0,t.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row gap-4",children:(0,t.jsx)("input",{type:"text",placeholder:"Search excerpts...",value:x,onChange:e=>u(e.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),c.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Filter by tags:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,t.jsx)("button",{onClick:()=>{n(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-sm transition-colors ${d.includes(e)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:e},e))})]})]}),0===o.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:0===e.length?"No excerpts yet":"No excerpts found"}),(0,t.jsx)("p",{className:"text-gray-500 mb-6",children:0===e.length?"Start writing your first excerpt to begin your story collection.":"Try adjusting your search or filter criteria."}),0===e.length&&(0,t.jsx)(r.default,{href:"/excerpts/new",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Excerpt"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>(0,t.jsx)(r.default,{href:`/excerpts/${e.id}`,children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:((e,t=150)=>{let s=e.replace(/<[^>]*>/g,"").trim();return s.length>t?s.substring(0,t)+"...":s})(e.content)}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e},e)),e.tags.length>3&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",e.tags.length-3," more"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:[e.wordCount," words"]}),(0,t.jsx)("span",{children:e.updatedAt.toLocaleDateString()})]})]})},e.id))})]})}e.s(["default",()=>l])}]);